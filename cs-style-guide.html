<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CS Style Guide</title>
  <link rel="stylesheet" href="https://stackedit.io/style.css" />
</head>

<body class="stackedit">
  <div class="stackedit__html"><h1 id="bmstu-cs-style-guide">BMSTU CS Style Guide</h1>
<blockquote>
<p>Стайл гайд и общий список советов при написании кода на C++ для студентов курса “Основы Программирования” кафедры ИУ5 МГТУ им. Н.Э. Баумана.</p>
</blockquote>
<h2 id="содержание">Содержание</h2>
<ol>
<li><a href="#%D0%BE%D0%B1%D1%89%D0%B8%D0%B5-%D0%BF%D1%80%D0%B0%D0%B2%D0%B8%D0%BB%D0%B0">Общие правила</a></li>
<li><a href="#%D0%BF%D0%B5%D1%80%D0%B5%D0%BC%D0%B5%D0%BD%D0%BD%D1%8B%D0%B5-%D0%B8-%D0%BA%D0%BE%D0%BD%D1%81%D1%82%D0%B0%D0%BD%D1%82%D1%8B">Переменные и константы</a></li>
<li><a href="#%D1%84%D1%83%D0%BD%D0%BA%D1%86%D0%B8%D0%B8">Функции</a></li>
<li><a href="#%D1%82%D0%B8%D0%BF%D1%8B">Типы</a></li>
<li><a href="#%D0%BE%D0%BF%D0%B5%D1%80%D0%B0%D1%82%D0%BE%D1%80%D1%8B">Операторы</a></li>
<li><a href="#%D1%83%D1%81%D0%BB%D0%BE%D0%B2%D0%B8%D1%8F">Условия</a></li>
<li><a href="#%D1%86%D0%B8%D0%BA%D0%BB%D1%8B">Циклы</a></li>
<li><a href="#switch-case">Switch-case</a></li>
<li><a href="#namespaces">Namespaces</a></li>
<li><a href="#%D0%BA%D0%BE%D0%BC%D0%BC%D0%B5%D0%BD%D1%82%D0%B0%D1%80%D0%B8%D0%B8">Комментарии</a></li>
<li><a href="#%D0%B7%D0%B0%D0%B3%D0%BE%D0%BB%D0%BE%D0%B2%D0%BE%D1%87%D0%BD%D1%8B%D0%B5-%D1%84%D0%B0%D0%B9%D0%BB%D1%8B">Заголовочные файлы</a></li>
<li><a href="#dry">DRY</a></li>
<li><a href="#kiss">KISS</a></li>
</ol>
<h2 id="общие-правила">Общие правила</h2>
<p>В отличие от многих других современных языков программирования, C++ не имеет универсальных указаний и правил по написанию и форматированию кода. Каждый индивидуальный разработчик, как правило, следует своим предпочтениям или придерживается указаниям, написаными другими организациями. Подобный свод различных инструкций называется <strong>стайл гайдом</strong>.</p>
<p>Для удобства разработки, при работе над проектом, в котором участвуют много (больше одного) разработчиков, следование стайл гайду является обязательным. Многие отдельные команды и компании имеют свои стайл гайды, например, <a href="https://google.github.io/styleguide/cppguide.html">Google C++ Style Guide</a>.</p>
<p>Одной из целей курса является научить вас писать “красивый” и читаемый код. Часть описанных здесь правил являются объективными представлениями о современном написании кода (часто безотносительно языка программирования), часть субъективными.</p>
<p>Независимо от ваших предпочтений, следование данному конкретному стайл гайду <strong>абсолютно обязательно</strong> и отражает реалии работы над проектами в командах любых размеров.</p>
<h3 id="автоматизация-clang-format-и-clang-tidy">Автоматизация, clang-format и clang-tidy</h3>
<p>Многие правила, описанные в данном документе, форсируются автоматически с применением clang-format и clang-tidy.</p>
<p><strong>Clang-format</strong> - широко используемый форматтер для C и C++, с помощью которого можно обеспечить соблюдение единых правил форматирования кода во всем проекте (или проектах) разного уровня. Правила настраиваются через специальный конфигурационный файл.</p>
<p><strong>Clang-tidy</strong> - статический анализатор, который помогает обнаруживать масштабный набор различных классов ошибок, возникающих при написании кода.</p>
<p>Использование данных инструментов <strong>обязательно</strong> при написании лабораторных работ, домашних заданий и практики.</p>
<h3 id="пробелытабы">Пробелы/табы</h3>
<p>Не используйте табы для создания отступов в коде. Вместо табов для отступов используется <strong>4 пробела</strong>. Все современные IDE и редакторы кода позволяют настроить клавишу Tab на вставку нужного количества пробелов.</p>
<h3 id="фигурные-скобки-и-отступы">Фигурные скобки и отступы</h3>
<p>Для вставки отступов и обрамления фигурными скобками используется так называемый <strong>One True Brace</strong> style. Открывающая фигурная скобка ставится на той же строке, что и название функции/условие/цикл/структура/класс/…, а закрывающая на отдельной строке.</p>
<pre class=" language-cpp"><code class="prism  language-cpp"><span class="token keyword">void</span> <span class="token function">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">}</span> <span class="token comment">// bad</span>

<span class="token keyword">void</span> <span class="token function">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">}</span> <span class="token comment">// OK</span>
</code></pre>
<h3 id="длина-строк-и-переносы">Длина строк и переносы</h3>
<p>Длина строки должна быть ограничена 150 символами. Это то количество, которое позволяет относительно комфортно уместить большую строку в открытом файле без необходимости горизонтального скроллинга.</p>
<p>Правила переноса установлены в конфиге для clang-format.</p>
<h3 id="общие-правила-именования">Общие правила именования</h3>
<p>Все объекты языка, которые именуются разработчиком, будь то переменная, функция, тип и т.д., должны иметь осмысленное название, которое должно явно отражать область применения данного объекта.</p>
<p>Не следует применять необоснованные сокращения и ничего не значащие символы (за исключением распротраненных обозначений, например, <em>i</em>, <em>j</em>, <em>k</em> для итерации внутри цикла, <em>T</em> для обозначения шаблонного типа, <em>lhs</em> и <em>rhs</em> для левого и правого аргумента в подходящих контекстах и т.п.).</p>
<p>Не надо использовать так называемую <a href="https://ru.wikipedia.org/wiki/%D0%92%D0%B5%D0%BD%D0%B3%D0%B5%D1%80%D1%81%D0%BA%D0%B0%D1%8F_%D0%BD%D0%BE%D1%82%D0%B0%D1%86%D0%B8%D1%8F">венгерскую нотацию</a>.</p>
<p>В названиях должен быть использован грамотный английский язык.</p>
<pre class=" language-cpp"><code class="prism  language-cpp"><span class="token keyword">struct</span> C <span class="token punctuation">{</span>
    <span class="token keyword">int</span> x<span class="token punctuation">;</span>
    <span class="token keyword">int</span> y<span class="token punctuation">;</span>
    <span class="token keyword">int</span> z<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// bad</span>

<span class="token keyword">struct</span> Coordinates <span class="token punctuation">{</span>
    <span class="token keyword">int</span> x<span class="token punctuation">;</span>
    <span class="token keyword">int</span> y<span class="token punctuation">;</span>
    <span class="token keyword">int</span> z<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// OK</span>
</code></pre>
<pre class=" language-cpp"><code class="prism  language-cpp"><span class="token keyword">void</span> <span class="token function">InitMA</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// bad</span>

<span class="token keyword">void</span> <span class="token function">InitMemoryAllocator</span><span class="token punctuation">(</span><span class="token keyword">int</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// OK</span>
</code></pre>
<h3 id="семантическое-разделение-кода-на-отдельные-блоки">Семантическое разделение кода на отдельные блоки</h3>
<p>В современной разработке программист большую часть времени проводит за чтением кода, а не его написанием. Поэтому важно обеспечить хорошую читаемость кода путем разделения его на небольшие блоки, в каждом из которых описана какая-то логически отделимая часть приложения. Каждый такой блок разделяется отдельной пустой строкой. При этом необходимо находиться в рамках разумных пределов и не делить код слишком сильно.</p>
<pre class=" language-cpp"><code class="prism  language-cpp"><span class="token keyword">bool</span> <span class="token function">IsPrime</span><span class="token punctuation">(</span><span class="token keyword">int</span> number<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>number <span class="token operator">&lt;=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">*</span> i <span class="token operator">&lt;</span> number<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>number <span class="token operator">%</span> i <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token comment">// bad</span>

<span class="token keyword">bool</span> <span class="token function">IsPrime</span><span class="token punctuation">(</span><span class="token keyword">int</span> number<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>number <span class="token operator">&lt;=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">*</span> i <span class="token operator">&lt;</span> number<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>number <span class="token operator">%</span> i <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token comment">// OK</span>

<span class="token keyword">bool</span> <span class="token function">IsPrime</span><span class="token punctuation">(</span><span class="token keyword">int</span> number<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>number <span class="token operator">&lt;=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
        <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        
    <span class="token punctuation">}</span>

    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">*</span> i <span class="token operator">&lt;</span> number<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
        <span class="token keyword">if</span> <span class="token punctuation">(</span>number <span class="token operator">%</span> i <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        
            <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
            
        <span class="token punctuation">}</span>
        
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token comment">// also bad</span>
</code></pre>
<h3 id="глобальные-переменные">Глобальные переменные</h3>
<p>Глобальные переменные в общем случае запрещены. Связано это прежде всего с тем, что наличие глобальных переменных усложняет понимание работы программы.</p>
<p>Любая функция может обратиться к переменной и поменять ее значение, что может привести к большим сложностям при необходимости отслеживании состояния приложения и исправления возникаемых ошибок.</p>
<p>Данное правило не относится к <strong>глобальным константам</strong>, которые, однако, все равно не следует объявлять в заголовочных файлах. Вместо этого их необходимо складывать в анонимный неймспейс в соответствующем .cpp файле.</p>
<pre class=" language-cpp"><code class="prism  language-cpp"><span class="token keyword">int</span> a<span class="token punctuation">;</span> <span class="token comment">// bad</span>

<span class="token keyword">namespace</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token keyword">float</span> pi <span class="token operator">=</span> <span class="token number">3.14159265359</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token comment">// OK</span>
</code></pre>
<h3 id="goto-statements">Goto statements</h3>
<p><strong>goto</strong> - оператор безусловного перехода к определенной точке программы, обозначенной именованной меткой.</p>
<p>Использование goto полностью запрещено. Связано это со значительным ухудшением читаемости кода как последовательности различных команд, выражений и вызовов функций.</p>
<h3 id="using-namespace-std">using namespace std</h3>
<p>Использование директивы using namespace std полностью запрещено. Как в заголовочных, так и в .cpp файлах.</p>
<p>Делается это для избежания потенциальной <strong>коллизии имен</strong>, так как стандартная библиотека предлагает огромный набор различных типов и функций, повсеместно встречающихся во время разработки.</p>
<p>Более подробно будет рассказано в лекциях.</p>
<h3 id="stl-и-ооп">STL и ООП</h3>
<p>Использование элементов <strong>ООП</strong> запрещено. Таким образом запрещено использование классов, методов, разных конструкторов, перегрузок операторов, модификаторов доступа и т.п.</p>
<p>Помимо этого запрещено использование <strong>STL</strong>: <strong>std::string</strong>, любые контейнеры (<strong>std::vector</strong>, <strong>std::map</strong>, <strong>std::set</strong>, <strong>std::unordered_map</strong> и т.д.), адаптеры над контейнерами (<strong>std::queue</strong>, <strong>std::stack</strong>) и большинство других классов стандартных библиотек, за некоторыми исключениями (например, классы, связанные с потоковым вводом и выводом и манипуляцией ввода/вывода, такие как <strong>std::istream</strong>, <strong>std::ostream</strong>, <strong>std::fstream</strong> и т.п.).</p>
<h3 id="препроцессор-и-макросы">Препроцессор и макросы</h3>
<p>В общем случае использование макросов и макроконстант запрещено. Вместо этого следует использовать функции и обычные константы.</p>
<p>Связано это с тем, что активное использование препроцессора усложняет понимание кода и его отладку (например, макроконстанты не отображаются в дебаггере и т.п.).</p>
<p>Использование директив препроцессора следует также свести к разумному минимуму, в силу отсутствия необходимости их активного использования в рамках данного курса.</p>
<pre class=" language-cpp"><code class="prism  language-cpp"><span class="token macro property">#<span class="token directive keyword">define</span> ARRAY_SIZE 500</span>
  <span class="token comment">// bad</span>

<span class="token macro property">#<span class="token directive keyword">define</span> SUM(LHS, RHS) ((X) + (Y))</span>
  <span class="token comment">// bad</span>
</code></pre>
<h3 id="функция-main">Функция main</h3>
<p>Функция <strong>main</strong> должна обязательно возвращать int, а также принимать аргументы командной строки (<em>int argc</em>, <em>char</em>* argv*). Если аргументы командной строки не используются, то следует просто оставить их тип или пометить атрибутом <em>[[maybe_unused]]</em>.</p>
<pre class=" language-cpp"><code class="prism  language-cpp"><span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">}</span> <span class="token comment">// bad</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token keyword">char</span><span class="token operator">*</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token comment">// OK</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span>maybe_unused<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">[</span>maybe_unused<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token keyword">char</span><span class="token operator">*</span><span class="token operator">*</span> argv<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token comment">// OK</span>
</code></pre>
<p>Сама функция должна интерпретироваться прежде всего как точка входа, поэтому программная логика внутри main должна быть сведена к минимуму (чем больше сдается лабораторных работ, тем более строгое это требование). В идеале функция main должна только передавать управление потоком исполнения программы в другое место.</p>
<h3 id="проверка-ошибок">Проверка ошибок</h3>
<p>Если функция в ходе своей работы может отработать неправильно (например, идет обработка потенциально некорректного пользовательского ввода), то она должна явно указать это одним из возможных способов сигнализации об ошибке (возвращаемый код, исключение и т.п.).</p>
<p>Если функция может отработать с ошибкой, то вызывающая функция должна предусмотреть дальнейшее поведение тогда, когда есть такая возможность.</p>
<h3 id="проверка-входных-данных">Проверка входных данных</h3>
<p>Если функция принимает аргументы, значения которых могут привести к некорректной работе этой функции, то в ней должны проверяться значения этих аргументов на принадлежность области допустимых значений.</p>
<pre class=" language-cpp"><code class="prism  language-cpp"><span class="token keyword">double</span> <span class="token function">Divide</span><span class="token punctuation">(</span><span class="token keyword">int</span> lhs<span class="token punctuation">,</span> <span class="token keyword">int</span> rhs<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>rhs <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token comment">// err, OK, can't divide by zero</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> lhs <span class="token operator">/</span> rhs<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<pre class=" language-cpp"><code class="prism  language-cpp"><span class="token keyword">void</span> <span class="token function">PrintArg</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span> arg<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    std<span class="token operator">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token operator">*</span>arg<span class="token punctuation">;</span> <span class="token comment">// bad, arg might be nullptr</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">PrintArg</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span> arg<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>arg<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    std<span class="token operator">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token operator">*</span>arg<span class="token punctuation">;</span> <span class="token comment">// OK</span>
<span class="token punctuation">}</span>
</code></pre>
<h3 id="компиляция">Компиляция</h3>
<p>Любая компиляция исходного кода должна сопровождаться флагами <em>-Wall</em>, <em>-Wextra</em>, <em>-Werror</em> и -<em>Wpedantic</em>.</p>
<p>Благодаря этим флагам компилятор интерпретирует предупреждения как ошибки компиляции, что заставляет писать более аккуратный и безопасный код.</p>
<h3 id="неиспользуемый-код">Неиспользуемый код</h3>
<p>При сдаче лабораторной работы в файлах не должно быть неиспользуемого (закомментированого) кода.</p>
<h3 id="пустая-строка-в-конце-файла">Пустая строка в конце файла</h3>
<p>В конце каждого файла с исходным кодом должна стоять пустая строка (распространенное правило для, например, улучшения читаемости диффа в репозитории, удобной конкатенации файлов и т.п.).</p>
<h2 id="переменные-и-константы">Переменные и константы</h2>
<h3 id="правила-именования">Правила именования</h3>
<p>Обычные переменные и константы внутри функций именуются через <em>camelCase</em>.</p>
<pre class=" language-cpp"><code class="prism  language-cpp"><span class="token keyword">int</span> variableWithMultipleWords<span class="token punctuation">;</span>
</code></pre>
<p>Глобальные константы также именуются через <em>camelCase</em>, но с префиксом <em>k</em> в начале.</p>
<pre class=" language-cpp"><code class="prism  language-cpp"><span class="token keyword">const</span> <span class="token keyword">int</span> kGlobalConstant<span class="token punctuation">;</span>
<span class="token keyword">constexpr</span> <span class="token keyword">int</span> kAnotherGlobalConstant<span class="token punctuation">;</span>
</code></pre>
<h3 id="магические-константы">Магические константы</h3>
<p><strong>Магическая константа</strong> - это некий литерал, семантическое (смысловое) значение которого нельзя определить без контекста.</p>
<pre class=" language-cpp"><code class="prism  language-cpp"><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token keyword">char</span><span class="token operator">*</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">int</span> number <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    std<span class="token operator">::</span>cin <span class="token operator">&gt;&gt;</span> number<span class="token punctuation">;</span>
    
    <span class="token keyword">if</span> <span class="token punctuation">(</span>number <span class="token operator">&gt;=</span> <span class="token number">100</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// 100 - магическая константа</span>
        <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>Значения магических констант должны быть сложены в именованные константы. При этом допускается прямое использование некоторых литералов, таких как <em>0</em>, <em>true</em>, <em>false</em>, <em>nullptr</em>, <em>“”</em> и др.</p>
<pre class=" language-cpp"><code class="prism  language-cpp"><span class="token keyword">namespace</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token keyword">int</span> kMaxAvailableNumber <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token keyword">char</span><span class="token operator">*</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">int</span> number <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    std<span class="token operator">::</span>cin <span class="token operator">&gt;&gt;</span> number<span class="token punctuation">;</span>
    
    <span class="token keyword">if</span> <span class="token punctuation">(</span>number <span class="token operator">&gt;=</span> kMaxAvailableNumber<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<h3 id="одна-строка---одна-переменная">Одна строка - одна переменная</h3>
<p>Для улучшения читаемости на одной строке может быть объявлена только одна переменная.</p>
<pre class=" language-cpp"><code class="prism  language-cpp"><span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> b <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> c <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">// bad</span>

<span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">// OK</span>
<span class="token keyword">int</span> b <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">// OK</span>
<span class="token keyword">int</span> c <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">// OK</span>
</code></pre>
<h3 id="объявление-и-инициализация">Объявление и инициализация</h3>
<p><strong>Объявление</strong> переменной должно совпадать с <strong>явной инициализацией</strong> каким-либо значением. <strong>Неявную инициализацию</strong> следует избегать. Если переменная получает значение из какой-либо функции или выражения, то вызов этой функции или само выражение должна быть использованы во время объявления переменной.</p>
<pre class=" language-cpp"><code class="prism  language-cpp"><span class="token keyword">int</span> a<span class="token punctuation">;</span> <span class="token comment">// bad, indeterminate value</span>
<span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">// OK</span>
<span class="token keyword">int</span> a<span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// OK, default value for int is 0</span>
</code></pre>
<pre class=" language-cpp"><code class="prism  language-cpp"><span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// bad</span>
<span class="token keyword">int</span> b <span class="token operator">=</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// OK</span>
</code></pre>
<h3 id="указатели-и-ссылки">Указатели и ссылки</h3>
<p>При объявлении переменной ссылочного типа или указателя амперсанд (<em>&amp;</em>) и звездочка (<em>*</em>) должны быть привязаны к типу, то есть выравнены <strong>по левой</strong> стороне.</p>
<pre class=" language-cpp"><code class="prism  language-cpp"><span class="token keyword">int</span> a<span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token operator">&amp;</span>r <span class="token operator">=</span> a<span class="token punctuation">;</span> <span class="token comment">// bad</span>
<span class="token keyword">int</span><span class="token operator">&amp;</span> r <span class="token operator">=</span> a<span class="token punctuation">;</span> <span class="token comment">// OK</span>
</code></pre>
<pre class=" language-cpp"><code class="prism  language-cpp"><span class="token keyword">int</span> <span class="token operator">*</span>p <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span> <span class="token comment">// bad</span>
<span class="token keyword">int</span><span class="token operator">*</span> p <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span> <span class="token comment">// OK</span>
</code></pre>
<h3 id="использование-констант">Использование констант</h3>
<p>Если переменная не предполагает дальнейшее изменение значения, то следует помечать ее как константу через <em>const</em>.</p>
<h3 id="использование-атрибутов">Использование атрибутов</h3>
<p>Если переменная необходима, но не используется или может не использоваться в некоторых случаях, ее следует пометить атрибутом <em>[[maybe_unused]]</em>.</p>
<pre class=" language-cpp"><code class="prism  language-cpp"><span class="token punctuation">[</span><span class="token punctuation">[</span>maybe_unused<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
</code></pre>
<h3 id="использование-auto">Использование auto</h3>
<p>Использование <em>auto</em> в общем случае запрещено.</p>
<p>Исключение составляют те случаи, когда без них не обойтись или же указать тип неоправдано сложно.</p>
<pre class=" language-cpp"><code class="prism  language-cpp"><span class="token keyword">auto</span> a <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token comment">// bad</span>
<span class="token keyword">auto</span> b <span class="token operator">=</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// bad</span>
</code></pre>
<ol>
<li>Использование structured binding для присвоения возвращаемого значения-структуры из функции.</li>
</ol>
<pre class=" language-cpp"><code class="prism  language-cpp"><span class="token keyword">struct</span> S <span class="token punctuation">{</span>
    <span class="token keyword">int</span> a<span class="token punctuation">;</span>
    <span class="token keyword">int</span> b<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

S <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">auto</span> <span class="token punctuation">[</span>first<span class="token punctuation">,</span> second<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// OK</span>
</code></pre>
<ol start="2">
<li>Присваивание лямбда функции переменной.</li>
</ol>
<pre class=" language-cpp"><code class="prism  language-cpp"><span class="token keyword">auto</span> l <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// OK</span>
</code></pre>
<ol start="3">
<li>Некоторые специфические случаи при работе с лямбдами, метапрограммированием и др.</li>
</ol>
<h2 id="функции">Функции</h2>
<h3 id="правила-именования-1">Правила именования</h3>
<p>Функции именуются в <em>PascalCase</em>.</p>
<p>Функции, как правило, должны семантически отражать какое-то действие (то есть содержать глагол) или отвечать на некоторый вопрос.</p>
<pre class=" language-cpp"><code class="prism  language-cpp"><span class="token keyword">void</span> <span class="token function">Directory</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// bad</span>
<span class="token keyword">void</span> <span class="token function">CreateDirectory</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// OK</span>

<span class="token keyword">bool</span> <span class="token function">IsEven</span><span class="token punctuation">(</span><span class="token keyword">int</span> number<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// OK</span>
</code></pre>
<h3 id="размеры">Размеры</h3>
<p>Следует избегать написания слишком больших функций. В идеале, каждая конкретная функция должна выполнять какое-то одно действие, которое выполняется за относительно небольшое количество строк кода (желательно в пределах ~50, но без фанатизма).</p>
<h3 id="божественные-функции">Божественные функции</h3>
<p><strong>Божественная функция</strong> - это такая функция, которая отвечает за много действий разом. Например, принимает пользовательский ввод, обрабатывает его и выводит какой-то результат.</p>
<p>Следует проектировать приложение таким образом, чтобы каждая отдельная функция имела одну конкретную зону ответственности.</p>
<p>Например, функция может отвечать за считывание файла в строку. Другая функция за обработку этих данных. И т.д.</p>
<p>Правильная декомпозиция кода на множество функций улучшает читаемость, поддерживаемость и переиспользуемость кода.</p>
<pre class=" language-cpp"><code class="prism  language-cpp"><span class="token keyword">void</span> <span class="token function">CreateOrRemoveFile</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span> fileName<span class="token punctuation">,</span> <span class="token keyword">bool</span> createOrRemove<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// bad</span>

<span class="token keyword">void</span> <span class="token function">CreateFile</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span> fileName<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// OK</span>
<span class="token keyword">void</span> <span class="token function">RemoveFile</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span> fileName<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// OK</span>
</code></pre>
<h3 id="аргументы-по-умолчанию">Аргументы по умолчанию</h3>
<p>Аргументы по умолчанию следует использовать тогда, когда передаваемый в функцию аргумент должен обязательно использоваться внутри функции и его отсутствие приведет к невозможности выполнения этой функции. При этом предполагается что использование такой функции с аргументом по умолчанию будет соответствовать поведению, которое ожидает разработчик от этой функции.</p>
<p>В других случаях следует предпочитать использование <strong>перегрузки функций</strong>.</p>
<pre class=" language-cpp"><code class="prism  language-cpp"><span class="token keyword">void</span> <span class="token function">CreateFile</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span> fileName<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span> directory <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// OK, "" is current working directory</span>
</code></pre>
<pre class=" language-cpp"><code class="prism  language-cpp"><span class="token keyword">double</span> <span class="token function">Pow</span><span class="token punctuation">(</span><span class="token keyword">double</span> number<span class="token punctuation">,</span> <span class="token keyword">double</span> power <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// bad, unintuitive</span>
</code></pre>
<h3 id="использование-атрибутов-1">Использование атрибутов</h3>
<p>Если функция возвращает значение, которое нельзя игнорировать и необходимо использовать после вызова функции, то такую функцию следует помечать атрибутом <em>[[nodiscard]]</em> рядом с <strong>объявлением</strong> функции.</p>
<p>В следующем примере ожидается, что результат выполнения функции <em>Sum</em> должен быть каким-либо образом использован (иначе вызов функции не имеет смысла). Неиспользование возвращаемого результата функции с использованием атрибута [[nodiscard]] приведет к ошибке компиляции.</p>
<pre class=" language-cpp"><code class="prism  language-cpp"><span class="token keyword">int</span> <span class="token function">Sum</span><span class="token punctuation">(</span><span class="token keyword">int</span> lhs<span class="token punctuation">,</span> <span class="token keyword">int</span> rhs<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// bad, the return value must be used</span>
<span class="token punctuation">[</span><span class="token punctuation">[</span>nodiscard<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token function">Sum</span><span class="token punctuation">(</span><span class="token keyword">int</span> lhs<span class="token punctuation">,</span> <span class="token keyword">int</span> rhs<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// OK</span>
</code></pre>
<p>В данном примере функция <em>CreateUser</em> возвращает код ошибки, которую, пусть и крайне желательно проверять, но при этом все же допустимо не использовать.</p>
<pre class=" language-cpp"><code class="prism  language-cpp"><span class="token keyword">int</span> <span class="token function">CreateUser</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// OK</span>
</code></pre>
<p>Если функция перехватывает поток исполнения и не отдает его назад в вызывающую функцию ни при каких обстоятельствах (например, внутри находится бесконечный цикл или системный вызов завершения приложения), то такую функцию следует помечать атрибутом <em>[[noreturn]]</em>.</p>
<p>Если функция не используется, но ее удаление нежелательно, то она должна быть помечена атрибутом <em>[[maybe_unused]]</em>.</p>
<h3 id="использование-auto-1">Использование auto</h3>
<p>Использование <em>auto</em> для определения типа возвращаемого значения допустимо только при работе с метапрограммированием.</p>
<pre class=" language-cpp"><code class="prism  language-cpp"><span class="token keyword">auto</span> <span class="token function">Sum</span><span class="token punctuation">(</span><span class="token keyword">int</span> lhs<span class="token punctuation">,</span> <span class="token keyword">int</span> rhs<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// bad</span>

<span class="token keyword">template</span><span class="token operator">&lt;</span><span class="token keyword">typename</span> T<span class="token punctuation">,</span> <span class="token keyword">typename</span> U<span class="token operator">&gt;</span>
<span class="token keyword">auto</span> <span class="token function">Sum</span><span class="token punctuation">(</span>T lhs<span class="token punctuation">,</span> U rhs<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// OK</span>
</code></pre>
<h3 id="использование-trailing-return-type">Использование trailing return type</h3>
<p><strong>Trailing return type</strong> - особый вид нотации для отображения типа возвращаемого значения. Его использование не регламентировано и остается на усмотрение студента.</p>
<p>Важно, что в рамках одного приложения использовался только один тип нотации.</p>
<pre class=" language-cpp"><code class="prism  language-cpp"><span class="token keyword">int</span> <span class="token function">Sum</span><span class="token punctuation">(</span><span class="token keyword">int</span> lhs<span class="token punctuation">,</span> <span class="token keyword">int</span> rhs<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// OK</span>
</code></pre>
<pre class=" language-cpp"><code class="prism  language-cpp"><span class="token keyword">auto</span> <span class="token function">Sum</span><span class="token punctuation">(</span><span class="token keyword">int</span> lhs<span class="token punctuation">,</span> <span class="token keyword">int</span> rhs<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token keyword">int</span><span class="token punctuation">;</span> <span class="token comment">// OK</span>
</code></pre>
<pre class=" language-cpp"><code class="prism  language-cpp"><span class="token keyword">int</span> <span class="token function">Sum</span><span class="token punctuation">(</span><span class="token keyword">int</span> lhs<span class="token punctuation">,</span> <span class="token keyword">int</span> rhs<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">auto</span> <span class="token function">Multiply</span><span class="token punctuation">(</span><span class="token keyword">int</span> lhs<span class="token punctuation">,</span> <span class="token keyword">int</span> rhs<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token keyword">int</span><span class="token punctuation">;</span> <span class="token comment">// bad, don't mix styles</span>
</code></pre>
<h2 id="типы">Типы</h2>
<h3 id="структуры">Структуры</h3>
<h4 id="правила-именования-2">Правила именования</h4>
<p>Структуры именуются в <em>PascalCase</em>.</p>
<pre class=" language-cpp"><code class="prism  language-cpp"><span class="token keyword">struct</span> S<span class="token punctuation">;</span>
</code></pre>
<p>Поля структуры именуются в <em>camelCase</em>.</p>
<pre class=" language-cpp"><code class="prism  language-cpp"><span class="token keyword">struct</span> S <span class="token punctuation">{</span>
    <span class="token keyword">int</span> firstField<span class="token punctuation">;</span>
    <span class="token keyword">int</span> secondField<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
<p>Следует избегать названий вида My[Something] или Custom[Something].</p>
<h4 id="инициализация">Инициализация</h4>
<p>Вид инициализации переменной структуры следует выбирать в зависимости от контекста.</p>
<p>Для инициализации полей структуры дефолтными (нулевыми) значениями достаточно использовать следующую конструкцию:</p>
<pre class=" language-cpp"><code class="prism  language-cpp"><span class="token keyword">struct</span> S <span class="token punctuation">{</span>
    <span class="token keyword">int</span> a<span class="token punctuation">;</span>
    <span class="token keyword">char</span> b<span class="token punctuation">;</span>
    <span class="token keyword">float</span> c<span class="token punctuation">;</span>
    <span class="token keyword">double</span> d<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

S s <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// a == 0, b == 0, c == 0.f, d == 0.</span>
</code></pre>
<p>В общем случае следует предпочитать использование <strong>designated initializers</strong>:</p>
<pre class=" language-cpp"><code class="prism  language-cpp">S s <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token punctuation">.</span>a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token punctuation">.</span>b <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">,</span>
    <span class="token punctuation">.</span>c <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">,</span>
    <span class="token punctuation">.</span>d <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token comment">// !!! comma is necessary if you to keep this formatting</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
<p>Или:</p>
<pre class=" language-cpp"><code class="prism  language-cpp">S s <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">.</span>a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token punctuation">.</span>b <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token punctuation">.</span>c <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token punctuation">.</span>d <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
<p>Если структура имеет интуитивно понятную форму, то допустимо использовать обычный список инициализации:</p>
<pre class=" language-cpp"><code class="prism  language-cpp"><span class="token keyword">struct</span> Coordinates <span class="token punctuation">{</span>
    <span class="token keyword">int</span> x<span class="token punctuation">;</span>
    <span class="token keyword">int</span> y<span class="token punctuation">;</span>
    <span class="token keyword">int</span> z<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

Coordinates coords <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// OK</span>
</code></pre>
<h3 id="перечисления">Перечисления</h3>
<h4 id="правила-именования-3">Правила именования</h4>
<p>Перечисления именуются в <em>PascalCase</em>. Возможные значения перечисления должны также именоваться в <em>PascalCase</em>.</p>
<pre class=" language-cpp"><code class="prism  language-cpp"><span class="token keyword">enum</span> <span class="token keyword">class</span> <span class="token class-name">TrafficLight</span> <span class="token punctuation">{</span>
    Red<span class="token punctuation">,</span>
    Yellow<span class="token punctuation">,</span>
    Green<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
<h4 id="использование">Использование</h4>
<p>Перечисления следует использовать в тех случаях, когда переменная должна принимать ограниченный набор значений, которые должны иметь явную семантическую окраску.</p>
<p>Например, идиоматически некорректно использовать <em>bool</em> для обозначения пола. Вместо этого следует использовать <em>enum</em>.</p>
<pre class=" language-cpp"><code class="prism  language-cpp"><span class="token keyword">bool</span> gender <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span> <span class="token comment">// male, bad</span>
<span class="token keyword">bool</span> gender <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span> <span class="token comment">// female, bad</span>

<span class="token keyword">enum</span> <span class="token keyword">class</span> <span class="token class-name">Gender</span> <span class="token punctuation">{</span>
    Male<span class="token punctuation">,</span>
    Female<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

Gender gender <span class="token operator">=</span> Gender<span class="token operator">::</span>Female<span class="token punctuation">;</span> <span class="token comment">// OK</span>
</code></pre>
<p>В подавляющем большинстве случае следует использовать <em>enum class</em> вместо обычного <em>enum</em> для ограничения области видимости значений соответствующего перечисления и предотвращения неявной конвертации.</p>
<p>При необходимости задавать числовые значения значениям перечисления следует также явно указать низлежащий тип.</p>
<pre class=" language-cpp"><code class="prism  language-cpp"><span class="token keyword">enum</span> <span class="token keyword">class</span> <span class="token class-name">E</span> <span class="token punctuation">{</span>
    A <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
    B <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// bad</span>

<span class="token keyword">enum</span> <span class="token keyword">class</span> <span class="token class-name">E</span> <span class="token operator">:</span> <span class="token keyword">int</span> <span class="token punctuation">{</span>
    A <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
    B <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// OK</span>
</code></pre>
<h2 id="операторы">Операторы</h2>
<h3 id="унарные-операторы">Унарные операторы</h3>
<p>Между оператором и операндом не должно быть пробела.</p>
<pre class=" language-cpp"><code class="prism  language-cpp"><span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token operator">++</span>a<span class="token punctuation">;</span> <span class="token comment">// OK</span>
<span class="token operator">++</span> a<span class="token punctuation">;</span> <span class="token comment">// bad</span>
</code></pre>
<pre class=" language-cpp"><code class="prism  language-cpp"><span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> b <span class="token operator">=</span> <span class="token operator">&amp;</span>a<span class="token punctuation">;</span> <span class="token comment">// OK</span>
<span class="token keyword">int</span> b <span class="token operator">=</span> <span class="token operator">&amp;</span> a<span class="token punctuation">;</span> <span class="token comment">// bad</span>
</code></pre>
<h3 id="бинарные-операторы">Бинарные операторы</h3>
<p>Между оператором и его операндами должен стоять пробел.</p>
<pre class=" language-cpp"><code class="prism  language-cpp"><span class="token number">5</span><span class="token operator">+</span><span class="token number">5</span><span class="token punctuation">;</span> <span class="token comment">// bad</span>
<span class="token number">5</span> <span class="token operator">+</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token comment">// OK</span>
</code></pre>
<p>Следует избегать неоднозначности при написании больших выражений с использованием бинарных и унарных операторов. При необходимости лучше складывать отдельные части выражения в круглые скобки. Это помогает четко определить с каким приоритетом будут выполняться все операции.</p>
<pre class=" language-cpp"><code class="prism  language-cpp"><span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> b <span class="token operator">=</span> a<span class="token operator">++</span> <span class="token operator">+</span> <span class="token operator">++</span>a <span class="token operator">*</span> a <span class="token operator">%</span> <span class="token number">10</span> <span class="token operator">/</span> <span class="token number">20</span><span class="token punctuation">;</span> <span class="token comment">// really bad</span>
</code></pre>
<pre class=" language-cpp"><code class="prism  language-cpp"><span class="token keyword">int</span> c <span class="token operator">=</span> <span class="token number">5</span> <span class="token operator">+</span> <span class="token number">5</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">// OK</span>
<span class="token keyword">int</span> c <span class="token operator">=</span> <span class="token number">5</span> <span class="token operator">%</span> <span class="token number">5</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">// bad</span>
<span class="token keyword">int</span> c <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">5</span> <span class="token operator">%</span> <span class="token number">5</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">// OK</span>
</code></pre>
<h3 id="тернарные-операторы">Тернарные операторы</h3>
<p>Единственный тернарный оператор в C++ - оператор ветвления <em>?:</em>. Его можно использовать в тех случаях, когда нужно определить исполняемое действие на основе небольшого логического выражения. Если логика достаточно сложная и чтение такой конструкции оказывается затруднено, то следует использовать обычные условные конструкции (<em>if/else</em>).</p>
<pre class=" language-cpp"><code class="prism  language-cpp"><span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">10</span> <span class="token operator">&gt;</span> <span class="token number">5</span> <span class="token operator">?</span> <span class="token number">0</span> <span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// OK</span>
<span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">10</span> <span class="token operator">&gt;</span> <span class="token number">5</span> <span class="token operator">?</span> <span class="token number">0</span> <span class="token operator">:</span> <span class="token number">7</span> <span class="token operator">&lt;</span> <span class="token number">3</span> <span class="token operator">?</span> <span class="token number">2</span> <span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// bad, hard to read</span>
</code></pre>
<h2 id="условия">Условия</h2>
<h3 id="сравнения">Сравнения</h3>
<p>Так как каждый тривиальный тип можно неявно привести к <em>bool</em>, где 0 - это <em>false</em>, а любое другое значение - это <em>true</em>, то ко всем таким переменным можно применить оператор логического отрицания (<em>!</em>). Это приводит к возможности использования некоторых синтаксических конструкций, которые будут разобраны ниже.</p>
<h4 id="с-числовыми-типами">С числовыми типами</h4>
<p>При сравнении числовых типов следует явно указывать оба операнда, даже если сравнение идет с нулем.</p>
<pre class=" language-cpp"><code class="prism  language-cpp"><span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>a <span class="token operator">==</span> <span class="token number">5</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">}</span> <span class="token comment">// OK</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span>a <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">}</span> <span class="token comment">// OK</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>a<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">}</span> <span class="token comment">// bad</span>
</code></pre>
<h4 id="с-bool">С bool</h4>
<p>Не следует явно сравнивать переменную с типом <em>bool</em> с булевыми литералами <em>true</em> и <em>false</em>. Достаточно просто указывать переменную в условии.</p>
<pre class=" language-cpp"><code class="prism  language-cpp"><span class="token keyword">bool</span> b <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span>b <span class="token operator">==</span> <span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">}</span> <span class="token comment">// bad</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span>b<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// if b is true</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">}</span> <span class="token comment">// OK</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>b<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// if b is false</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">}</span> <span class="token comment">// OK</span>
</code></pre>
<h4 id="с-указателями">С указателями</h4>
<p>Также как в случае с <em>bool</em>, проверка указателя на <em>nullptr</em> должна осуществляться без прямого сравнения с ним.</p>
<pre class=" language-cpp"><code class="prism  language-cpp"><span class="token keyword">char</span><span class="token operator">*</span> p <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span>p <span class="token operator">==</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">}</span> <span class="token comment">// bad</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>p<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">}</span> <span class="token comment">// OK</span>
</code></pre>
<h3 id="однострочные-условия">Однострочные условия</h3>
<p>Любые однострочные условия должны оборачиваться в фигурные скобки.</p>
<pre class=" language-cpp"><code class="prism  language-cpp"><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>
    std<span class="token operator">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"true"</span> <span class="token operator">&lt;&lt;</span> std<span class="token operator">::</span>endl <span class="token comment">// bad</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    std<span class="token operator">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"true"</span> <span class="token operator">&lt;&lt;</span> std<span class="token operator">::</span>endl
<span class="token punctuation">}</span> <span class="token comment">// OK</span>
 
</code></pre>
<h3 id="ifelse">if/else</h3>
<p>Следует избегать использование <em>else</em> там, где это возможно.</p>
<pre class=" language-cpp"><code class="prism  language-cpp"><span class="token keyword">void</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>a <span class="token operator">==</span> <span class="token number">5</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        std<span class="token operator">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"a == 5"</span> <span class="token operator">&lt;&lt;</span> std<span class="token operator">::</span>endl<span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        std<span class="token operator">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"a != 5"</span> <span class="token operator">&lt;&lt;</span> std<span class="token operator">::</span>endl<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span> <span class="token comment">// bad</span>

<span class="token keyword">void</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>a <span class="token operator">==</span> <span class="token number">5</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        std<span class="token operator">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"a == 5"</span> <span class="token operator">&lt;&lt;</span> std<span class="token operator">::</span>endl<span class="token punctuation">;</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    std<span class="token operator">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"a != 5"</span> <span class="token operator">&lt;&lt;</span> std<span class="token operator">::</span>endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token comment">// OK</span>
</code></pre>
<h3 id="инверсия-условий-return-early">Инверсия условий (return early)</h3>
<p>Следует максимально избегать увеличения вложенности условий, так как это значительно затрудняет чтение кода. Одна из самых распространненых для этого техники - раннее возвращение из тела функции.</p>
<pre class=" language-cpp"><code class="prism  language-cpp"><span class="token keyword">void</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">*</span> b<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">*</span> c<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>b<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>c<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>    
<span class="token punctuation">}</span> <span class="token comment">// OK</span>

<span class="token keyword">void</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">*</span> b<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">*</span> c<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>a <span class="token operator">||</span> <span class="token operator">!</span>b <span class="token operator">||</span> <span class="token operator">!</span>c<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">}</span> <span class="token comment">// OK</span>
</code></pre>
<h3 id="нотация-йоды">Нотация Йоды</h3>
<p><a href="https://ru.wikipedia.org/wiki/%D0%A3%D1%81%D0%BB%D0%BE%D0%B2%D0%B8%D1%8F_%D0%99%D0%BE%D0%B4%D1%8B">Нотация Йоды</a> - способ записи выражений сравнения, при котором константная часть выражения находится слева.</p>
<p>Запрещена к использованию, так как затрудняет чтение. Используемые на курсе инструменты (в частности, компилятор) уже предотвращают возможность возникновения этой ошибки.</p>
<h3 id="использование-атрибутов-2">Использование атрибутов</h3>
<p>Использования атрибутов указания компилятору вероятности захода в тело условия <em>[[likely]]</em> и <em>[[unlikely]]</em> не запрещено напрямую, однако, не рекомендуется к использованию за отсутствием необходимости в рамках выполнения заданий на курсе.</p>
<h2 id="циклы">Циклы</h2>
<h3 id="однострочные-циклы">Однострочные циклы</h3>
<p>Однострочные циклы должны быть обернуты в фигурные скобки.</p>
<pre class=" language-cpp"><code class="prism  language-cpp"><span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token comment">// bad</span>

<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">}</span> <span class="token comment">// OK</span>
</code></pre>
<h3 id="использование-разных-видов-циклов">Использование разных видов циклов</h3>
<p>Следует использовать корректные виды циклов в зависимости от стоящей задачи.</p>
<p>Если предполагается какое-то пошаговое изменение с каждой итерацией цикла, то следует предпочитать цикл <strong>for</strong>. Например, если нужно проитерироваться по массиву или обработать какую-то генерируемую последовательность.</p>
<p>Если логика продолжения цикла завязана на статус значения какой-нибудь переменной (своего рода продолжающееся условие), то следует использовать цикл <strong>while</strong>.</p>
<p>Если нужно обеспечить как минимум одну итерацию цикла, то можно обратиться к конструкции <strong>do/while</strong>.</p>
<p>Если нужно проитерироваться по значениям массива, размер которого известен на стадии компиляции, то стоит использовать <strong>range-based for loop</strong>.</p>
<h2 id="switch-case">Switch-case</h2>
<h3 id="правила-использования">Правила использования</h3>
<p><em>Switch-case</em> конструкцию следует использовать в тех случаях, когда нужно проверить одну и ту же целочисленную переменную с разными значениями. Тогда множество условных конструкций <em>if/else</em> заменяется на <em>switch-case</em>.</p>
<pre class=" language-cpp"><code class="prism  language-cpp"><span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span>a <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>a <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>a <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">}</span> <span class="token comment">// bad</span>

<span class="token keyword">switch</span> <span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">case</span> <span class="token number">1</span><span class="token operator">:</span>
        <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> <span class="token number">2</span><span class="token operator">:</span>
        <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> <span class="token number">3</span><span class="token operator">:</span>
        <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token keyword">default</span><span class="token operator">:</span>
        <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token comment">// OK</span>
</code></pre>
<p><em>Switch-case</em> предпочитаемый способ работы с переменными с типом <em>enum</em>.</p>
<p>Почти всегда следует предусматривать поведение программы для тех случаев, когда <em>switch-case</em> не покрывает все возможные значения. Для этого следует использовать метку <em>default</em>.</p>
<h3 id="break--fallthrough">break &amp; fallthrough</h3>
<p>В конце каждого <em>case</em> по умолчанию должен стоять <em>break</em>. Его отсутствие приведет к ошибке компиляции.</p>
<p>Если “падение” в следующий <em>case</em> является желаемым поведением, то следует использовать атрибут <em>[[fallthrough]]</em>.</p>
<pre class=" language-cpp"><code class="prism  language-cpp"><span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

<span class="token keyword">switch</span> <span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">case</span> <span class="token number">1</span><span class="token operator">:</span>
        <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
    <span class="token keyword">case</span> <span class="token number">2</span><span class="token operator">:</span>
        <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token comment">// bad, compilation error</span>

<span class="token keyword">switch</span> <span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">case</span> <span class="token number">1</span><span class="token operator">:</span>
        <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
        <span class="token punctuation">[</span><span class="token punctuation">[</span>fallthrough<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> <span class="token number">2</span><span class="token operator">:</span>
        <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token comment">// OK</span>
</code></pre>
<h2 id="namespaces">Namespaces</h2>
<h3 id="правила-именования-4">Правила именования</h3>
<p>Неймспейсы именуются в <em>PascalCase</em>. Неймспейсы должны указывать на область применения набора функций и типов. Это может быть название библиотеки или приложения, указание на часть архитектуры и т.п.</p>
<p>Как в случае и с типами, следует избегать названий начинающихся с My, Custom и т.п.</p>
<h3 id="анонимные-неймспейсы">Анонимные неймспейсы</h3>
<p>Анонимные неймспейсы должны находиться только в <em>.cpp</em> файлах. В них могут находиться вспомогательные функции, константы и типы, присутствие которых нежелательно в заголовочном файле (например, они не являются частью интерфейса).</p>
<h3 id="псевдонимы">Псевдонимы</h3>
<p>Допустимо использовать псевдонимы для неймспейсов для уменьшения нагруженности кода и улучшения читаемости. При этом следует обеспечить сохранение семантической нагрузки, а также убедиться, что псевдоним не находится в глобальной области видимости в заголовочном файле.</p>
<pre class=" language-cpp"><code class="prism  language-cpp"><span class="token comment">// file main.cpp</span>
<span class="token keyword">namespace</span> fs <span class="token operator">=</span> std<span class="token operator">::</span>filesystem<span class="token punctuation">;</span> <span class="token comment">// OK</span>
</code></pre>
<pre class=" language-cpp"><code class="prism  language-cpp"><span class="token keyword">namespace</span> a <span class="token operator">=</span> std<span class="token operator">::</span>filesystem<span class="token punctuation">;</span> <span class="token comment">// bad</span>
</code></pre>
<pre class=" language-cpp"><code class="prism  language-cpp"><span class="token comment">// file SomeHeader.h</span>
<span class="token keyword">namespace</span> fs <span class="token operator">=</span> std<span class="token operator">::</span>filesystem<span class="token punctuation">;</span> <span class="token comment">// bad</span>
</code></pre>
<h3 id="using-">using ::</h3>
<p>Использование <strong>using::тип</strong> разрешено для типов не из стандартной библиотеки. Не следует использовать данную конструкцию в заголовочном файле.</p>
<pre class=" language-cpp"><code class="prism  language-cpp"><span class="token comment">// file main.cpp</span>
<span class="token keyword">namespace</span> Vec <span class="token punctuation">{</span>
    <span class="token keyword">struct</span> Vector <span class="token punctuation">{</span>
        <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">using</span> Vec<span class="token operator">::</span>Vector<span class="token punctuation">;</span> <span class="token comment">// OK</span>
</code></pre>
<h2 id="комментарии">Комментарии</h2>
<p>Минимизируйте использование комментариев в коде. Код должен быть достаточно самодокументируемым, чтобы избежать использование поясняющих комментариев.</p>
<p>Используйте комментарии только в тех случаях, когда нужно описать сложные участки кода (какие-нибудь специфические алгоритмы и т.п.).</p>
<h2 id="заголовочные-файлы">Заголовочные файлы</h2>
<h3 id="правила-именования-5">Правила именования</h3>
<p>Заголовочные файлы и файлы с исходным кодом именуются попарно. В заголовочном файле должен быть описан программный интерфейс какой-то части кода (объявления функций, типы и т.п.), в файле с исходным кодом (<em>.cpp</em> файле) - реализация.</p>
<p>Название файла должно быть в <em>PascalCase</em> и отображать семантически то, что описано в данном файле.</p>
<pre><code>Vector.h - описан тип вектора и функции над работой с ним
Vector.cpp - реализация

Vector.h - только заголовочный файл, в случае если реализуемый вектор - шаблонный тип
</code></pre>
<h3 id="расширения-файлов">Расширения файлов</h3>
<p>Для заголовочных файлов используется либо расширение <em>.h</em>, либо <em>.hpp</em> (в зависимости от предпочтений). Смешивать вместе разные расширения запрещено.</p>
<p>Файлы с исходным кодом должны иметь расширение <em>.cpp</em>.</p>
<h3 id="порядок-подключения">Порядок подключения</h3>
<p>Заголовочные файлы делятся на 4 типа:</p>
<ol>
<li>Парный заголовочный файл, название которого соответствует <em>.cpp</em> файлу, в котором подключается этот файл;</li>
<li>Заголовочные файлы проекта - все остальные заголовочные файлы, созданные в проекте;</li>
<li>Файлы сторонних библиотек - все заголовочные файлы, которые относятся к нестандартной библиотеке;</li>
<li>Файлы стандартной библиотеки;</li>
</ol>
<p>Каждый блок должен отделяться пустой строкой. Внутри блока файлы должны быть отсортированы в алфавитном порядке.</p>
<p>Библиотечные файлы должны подключаться в угловых скобках. Файлы проекта должны подключаться в кавычках.</p>
<pre class=" language-cpp"><code class="prism  language-cpp"><span class="token comment">// file Vector.cpp</span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">"Vector.h"</span> </span><span class="token comment">// парный заголовочный файл</span>

<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">"HeaderOne.h"</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">"MyHeader.h"</span> </span><span class="token comment">// заголовочные файлы проекта</span>

<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;QObject&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;QString&gt;</span> </span><span class="token comment">// заголовочные файлы сторонних библиотек</span>

<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;cmath&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iomanip&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span> </span><span class="token comment">// заголовочные файлы стандартной библиотеки</span>
</code></pre>
<h3 id="header-guards--pragma-once">Header guards &amp; #pragma once</h3>
<p>Заголовочные файлы</p>
<h3 id="подключение-заголовочных-файлов-из-c">Подключение заголовочных файлов из C</h3>
<p>Заголовочные файлы из библиотеки для языка C подключаются как <em>&lt;c’name’&gt;</em>, а не <em>&lt;name.h&gt;</em>.</p>
<pre class=" language-cpp"><code class="prism  language-cpp"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;math.h&gt;</span> </span><span class="token comment">// bad</span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;cmath&gt;</span> </span><span class="token comment">// OK</span>
</code></pre>
<h2 id="dry">DRY</h2>
<p><strong>DRY</strong> - Don’t Repeat Yourself. Принцип разработки, согласно которому следует избегать дублирование кода в приложении.</p>
<p>Старайтесь грамотно декомпозировать код на отдельные функции, которые затем можно переиспользовать в разных местах.</p>
<p>Если какая-то часть функциональности повторяется в разных местах - это повод вынести ее в отдельную функцию. В таком случае, если понадобится внести изменения, то их достаточно будет применить в одном месте, вместо нескольких. Это уменьшает вероятность появления ошибки и упрощает разработку.</p>
<p>Следует внимательно относится к данному принципу и не следовать ему слишком фанатично, так как это может привести к усилению <a href="https://ru.wikipedia.org/wiki/%D0%97%D0%B0%D1%86%D0%B5%D0%BF%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5_(%D0%BF%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5)">зацепления</a>.</p>
<h2 id="kiss">KISS</h2>
<p><strong>KISS</strong> - Keep It Simple, Stupid. Принцип разработки, согласно которому следует предпочитать простые конструкции сложным.</p>
<p>По возможности избегайте неоправданного усложнения кода и пишите такой код, который будет понятен постороннему человеку, находящемуся вне контекста.</p>
<h2 id="метапрограммирование-и-вычисления-времени-компиляции-tbd">Метапрограммирование и вычисления времени компиляции (TBD)</h2>
<h3 id="общие-правила-1">Общие правила</h3>
<h3 id="метапрограммирование-на-шаблонах">Метапрограммирование на шаблонах</h3>
<h3 id="sfinae">SFINAE</h3>
<h3 id="type_traits">type_traits</h3>
<h3 id="constexpr">constexpr</h3>
<h4 id="constexpr-константы">constexpr константы</h4>
<h4 id="constexpr-функции">constexpr функции</h4>
<h4 id="constexpr-условия">constexpr условия</h4>
<h3 id="consteval">consteval</h3>
<h3 id="constinit">constinit</h3>
<h2 id="функциональное-программирование-tbd">Функциональное программирование (TBD)</h2>
<h3 id="лямбда-функции">Лямбда функции</h3>
</div>
</body>

</html>
